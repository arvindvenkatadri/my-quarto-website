{
  "hash": "e9c922d5a3e65ee87cf6fa2672849478",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: <iconify-icon icon=\"fluent-mdl2:hour-glass\" width=\"1.2em\" height=\"1.2em\"></iconify-icon> Rhythm\nsubtitle: \"Ups and Downs, Rhymes and Reasons, Tides and Ebbs, Seasons and Rhythms\"\nabstract: \"\"\ndate: 2024-May-12\ndate-modified: \"2025-07-17\"\norder: 32\ncategories:\n- Correlations\n- Line Plots\neditor: \n  markdown: \n    wrap: 72\n---\n\n\n\n## {{< iconify fe beginner >}} What graphs will we see today?\n\n| Variable #1 | Variable #2 | Chart Names |                                     Chart Shape                                      |\n|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|\n|    Quant    |    Quant    |  Line Plot  | {{< iconify healthicons chart-line size=4x >}} {{< iconify la chart-line size=4x >}} |\n\n## {{< iconify tabler variable >}} What kind of Data Variables will we choose?\n\n::: column-page-inset-right\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-paper lightable-hover\" style='font-family: \"Arial Narrow\", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> No </th>\n   <th style=\"text-align:left;\"> Pronoun </th>\n   <th style=\"text-align:left;\"> Answer </th>\n   <th style=\"text-align:left;\"> Variable/Scale </th>\n   <th style=\"text-align:left;\"> Example </th>\n   <th style=\"text-align:left;\"> What Operations? </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> How Many / Much / Heavy? Few? Seldom? Often? When? </td>\n   <td style=\"text-align:left;\"> Quantities, with Scale and a Zero Value.Differences and Ratios /Products are meaningful. </td>\n   <td style=\"text-align:left;\"> Quantitative/Ratio </td>\n   <td style=\"text-align:left;\"> Length,Height,Temperature in Kelvin,Activity,Dose Amount,Reaction Rate,Flow Rate,Concentration,Pulse,Survival Rate </td>\n   <td style=\"text-align:left;\"> Correlation </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n## {{< iconify icons8 idea >}} Inspiration\n\n::: {#fig-births layout-ncol=\"2\"}\n\n![Line Plot Inspiration\n<https://fivethirtyeight.com/features/katie-ledecky-is-the-present-and-the-future-of-swimming/>](images/ledecky.png){#fig-lineplot-inspiration}\n\n![Time Series Plot Inspiration](../../../../materials/images/LineChart.png){#fig-time-series-inspiration}\n\nLine Plots\n:::\n\n\n[Ek Ledecky bheegi-bhaagi si](https://youtu.be/mxYNdy-0CEs), is it? Yeh Ledecky hai, ya jal-pari?\n\nIn @fig-lineplot-inspiration, the black line is the average of the 50\nbest times at each distance since 2000. The top 200 times for each\ndistance since 2000 are also plotted, with light orange lines each\nrepresenting one swimmer. Her races and her career essentially follow the same pattern â€” the more she swims, the more she separates from the field. Her 1500 metres record timing is better than the best time for\n800m!!ðŸ˜±\n(Update July 2024: Ledecky won the bronze at Paris 2024)\n\nAnd LA? The weather in California...ahh. But Seattle has more variation, and sudden changes too!\n\n::: callout-note\n### Why are fewer babies born on weekends? And more in September?\n\n::: {#fig-births layout-ncol=\"2\"}\n![Births over Days of the\nWeek](../../../../materials/images/births_over_days.png){#fig-weekdays}\n\n![Births over Months of the\nYear](../../../../materials/images/births_over_months.png){#fig-months}\n\n[Solomon Grundy, born on\nMonday...](https://www.wikiwand.com/en/Solomon_Grundy_(nursery_rhyme))\nwas an\n[Accountant?](https://www.quora.com/In-the-movie-%E2%80%9CThe-Accountant%E2%80%9D-what-does-Christian-say-to-calm-himself-down)\n:::\n\nLooks like an interesting story here...there are significantly fewer\nbirths on average on Sat and Sun, over the years! Why? Should we watch\n[Grey's Anatomy](https://www.hotstar.com/in/tv/greys-anatomy/14823) ?\n\nAnd why more births in September? That should be a no-brainer!!\nðŸ˜¹\n:::\n\n## {{< iconify mdi food-processor-outline >}} How do these Chart(s) Work?\n\nLine Plots take two separate Quant variables as inputs. Each of the\nvariables is mapped to a position, or coordinate: one for the X-axis,\nand the other for the Y-axis. Each pair of *observations* from the two\nQuant variables ( which would be in one row!) give us a `point`. All\nthis much is identical with the [Scatter Plot](../30-Change#index.qmd).\n\nAnd here, the points are connected together and sometimes thrown away\naltogether, leaving just the line.\n\nLooking at the lines, we get a very *function-al* sense of the\nvariation: is it upward or downward? Is it linear or nonlinear? Is it\nperiodic or seasonal...all these questions can be answered with Line\nCharts.\n\n::: callout-important\n### When one variable is Time?\n\nLine charts often have one variable as a *time* variable. In such case\nthe data is said to be a **time series**.\n\nAny metric that is measured over regular time intervals forms a **time\nseries**. Analysis of Time Series is commercially important because of\nindustrial need and relevance, especially with respect to Forecasting\n(Weather data, sports scores, population growth figures, stock prices,\ndemand, sales, supply...). For example, in the graph shown below are the\ntemperatures over time in two US cities:\n\n:::\n\n\n## {{< iconify ph chart-scatter-bold >}} Plotting a Line Plot\n\n::: {.panel-tabset .nav-pills style=\"background: whitesmoke;\"}\n### Using Orange\n\nLet us at least look at this data in Orange, and import it into this\nrather elaborate Orange Workflow:\n\n::: {layout-ncol=\"2\"}\n{{< downloadthis Orange/time-series.ows dname=\"TimeSeriesWorkflow\" label=\"Download the Orange Time Series Workflow\" icon=\"database-fill-down\" type=\"info\" >}}\n\n{{< downloadthis rawGraphs/LineChart/RIAA-RevenuesPerMusicFormat.csv dname=\"MusicRevenueData\" label=\"Download the RIAA Music Revenue data\" icon=\"database-fill-down\" type=\"info\" >}}\n:::\n\nImport this into Orange and see...\n\n![RIAA Revenues Data\nTable](../../../../materials/images/Orange/music-data-table.png){#fig-riaa-data-table}\n\n@fig-riaa-data-table states that there are 432 data points, with 7\nvariables in the dataset; some missing data.\n\nFor now, the variables we need are :\n\n::: callout-note\n### Quantitative Data\n\n-   `Year`: (int) Year in which RIAA revenue was logged\n-   `Value (For Charting)`: (int) Revenue in million USD We can ignore\n    the rest for now, unless we plan to work more with this data, and\n    need to know more. The other numerical data showing *billions* of\n    USD are not easily decipherable, an example of data that is not\n    documented well...\n:::\n\n::: callout-note\n### Qualitative Data\n\n-   `Category`: (chr) Form of the Music released ( CD etc..)\n:::\n\nWe need to first `form time series` from the dataset: we will choose the\n`year-date` variable, and indicate that it starts on Jan 1, 1973:\n\n::: {#fig-riaa-time-series layout-ncol=\"2\"}\n![Forming Time\nSeries](../../../../materials/images/Orange/forming-time-series.png){#fig-forming-time-series}\n\n![Plotting Time\nSeries](../../../../materials/images/Orange/basic-time-series-plot.png){#fig-basic-time-series}\n\nForming and Plotting Time Series in Orange\n:::\n\n### Using RAWgraphs\n\n{{< video https://youtu.be/38nbSYy4VWw >}}\n\n::: {layout-ncol=\"2\"}\n{{< downloadthis rawGraphs/LineChart/RIAA-RevenuesPerMusicFormat.csv dname=\"MusicRevenueData\" label=\"Download the RIAA Music Revenue data\" icon=\"database-fill-down\" type=\"info\" >}}\n\n{{< downloadthis rawGraphs/LineChart/TutorialLineChart.rawgraphs dname=\"TutorialLineChart\" label=\"Download the RAWGraphs Line Chart Tutorial File\" icon=\"database-fill-down\" type=\"info\" >}}\n:::\n\nUpload this RAWgraphs project tutorial file into\n<https://app.rawgraphs.io/> and play! Here is something we can create\nthere:\n\n![](images/music.png)\n\n### Using DataWrapper\n\n<https://academy.datawrapper.de/article/23-how-to-create-a-line-chart>\n\nHere be dragons: DataWrapper wants the data in [*wide\nformat*](https://www.wikiwand.com/en/Wide_and_narrow_data): each\n`Format` of music needs to have its figures in a separate column!\nðŸ¤¦. And this is not a data transformation that\nwe can achieve within DataWrapper. Bah.\n\nWe are probably better off plotting a regular scatter plot. Here too\nthere seem to be limitations because we are not able to colour the\nseries based on type of music `Format`.\n\n#### The Shape of [~~You~~](https://youtu.be/JGwWNGJdvx8) Data\n\nNever mind that silly song now.\n\nAs mentioned above, data can be in [wide or long\nform](https://www.wikiwand.com/en/Wide_and_narrow_data). How does one\nimagine this shape-shifting that seems needed now and then? Let's see.\n\n::: callout-important\n### Long Form and Wide Form Data\n\nSeveral tools such as DataWrapper (and others, yes, I agree, even with\ncode, as we will see) need data transformed to a specific **shape**.\nthis is usually mandated by the \"shape or geometry\" we intend to use in\nthe visualization. We should now look at this *idea* of *shape* in data.\nConsider the data tables below:\n\n\n::: {.cell}\n::: {#fig-pivotting-data-1 .cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Product </th>\n   <th style=\"text-align:right;\"> Power </th>\n   <th style=\"text-align:right;\"> Cost </th>\n   <th style=\"text-align:right;\"> Harmony </th>\n   <th style=\"text-align:right;\"> Style </th>\n   <th style=\"text-align:right;\"> Size </th>\n   <th style=\"text-align:right;\"> Manufacturability </th>\n   <th style=\"text-align:right;\"> Durability </th>\n   <th style=\"text-align:right;\"> Universality </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> G1 </td>\n   <td style=\"text-align:right;\"> 0.5858003 </td>\n   <td style=\"text-align:right;\"> 0.2773750 </td>\n   <td style=\"text-align:right;\"> 0.7244059 </td>\n   <td style=\"text-align:right;\"> 0.0731445 </td>\n   <td style=\"text-align:right;\"> 0.1000535 </td>\n   <td style=\"text-align:right;\"> 0.4551024 </td>\n   <td style=\"text-align:right;\"> 0.9622046 </td>\n   <td style=\"text-align:right;\"> 0.9966129 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G2 </td>\n   <td style=\"text-align:right;\"> 0.0089458 </td>\n   <td style=\"text-align:right;\"> 0.8135742 </td>\n   <td style=\"text-align:right;\"> 0.9060922 </td>\n   <td style=\"text-align:right;\"> 0.7546750 </td>\n   <td style=\"text-align:right;\"> 0.9540688 </td>\n   <td style=\"text-align:right;\"> 0.9710557 </td>\n   <td style=\"text-align:right;\"> 0.7617024 </td>\n   <td style=\"text-align:right;\"> 0.5062709 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G3 </td>\n   <td style=\"text-align:right;\"> 0.2937396 </td>\n   <td style=\"text-align:right;\"> 0.2604278 </td>\n   <td style=\"text-align:right;\"> 0.9490402 </td>\n   <td style=\"text-align:right;\"> 0.2860006 </td>\n   <td style=\"text-align:right;\"> 0.4156071 </td>\n   <td style=\"text-align:right;\"> 0.5839880 </td>\n   <td style=\"text-align:right;\"> 0.7145085 </td>\n   <td style=\"text-align:right;\"> 0.4899432 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n\n::: {#fig-pivotting-data-2 .cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Product </th>\n   <th style=\"text-align:left;\"> Parameter </th>\n   <th style=\"text-align:right;\"> Rating </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> G1 </td>\n   <td style=\"text-align:left;\"> Power </td>\n   <td style=\"text-align:right;\"> 0.5858003 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G1 </td>\n   <td style=\"text-align:left;\"> Cost </td>\n   <td style=\"text-align:right;\"> 0.2773750 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G1 </td>\n   <td style=\"text-align:left;\"> Harmony </td>\n   <td style=\"text-align:right;\"> 0.7244059 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G1 </td>\n   <td style=\"text-align:left;\"> Style </td>\n   <td style=\"text-align:right;\"> 0.0731445 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G1 </td>\n   <td style=\"text-align:left;\"> Size </td>\n   <td style=\"text-align:right;\"> 0.1000535 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G1 </td>\n   <td style=\"text-align:left;\"> Manufacturability </td>\n   <td style=\"text-align:right;\"> 0.4551024 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G1 </td>\n   <td style=\"text-align:left;\"> Durability </td>\n   <td style=\"text-align:right;\"> 0.9622046 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G1 </td>\n   <td style=\"text-align:left;\"> Universality </td>\n   <td style=\"text-align:right;\"> 0.9966129 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G2 </td>\n   <td style=\"text-align:left;\"> Power </td>\n   <td style=\"text-align:right;\"> 0.0089458 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G2 </td>\n   <td style=\"text-align:left;\"> Cost </td>\n   <td style=\"text-align:right;\"> 0.8135742 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G2 </td>\n   <td style=\"text-align:left;\"> Harmony </td>\n   <td style=\"text-align:right;\"> 0.9060922 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G2 </td>\n   <td style=\"text-align:left;\"> Style </td>\n   <td style=\"text-align:right;\"> 0.7546750 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G2 </td>\n   <td style=\"text-align:left;\"> Size </td>\n   <td style=\"text-align:right;\"> 0.9540688 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G2 </td>\n   <td style=\"text-align:left;\"> Manufacturability </td>\n   <td style=\"text-align:right;\"> 0.9710557 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G2 </td>\n   <td style=\"text-align:left;\"> Durability </td>\n   <td style=\"text-align:right;\"> 0.7617024 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G2 </td>\n   <td style=\"text-align:left;\"> Universality </td>\n   <td style=\"text-align:right;\"> 0.5062709 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G3 </td>\n   <td style=\"text-align:left;\"> Power </td>\n   <td style=\"text-align:right;\"> 0.2937396 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G3 </td>\n   <td style=\"text-align:left;\"> Cost </td>\n   <td style=\"text-align:right;\"> 0.2604278 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G3 </td>\n   <td style=\"text-align:left;\"> Harmony </td>\n   <td style=\"text-align:right;\"> 0.9490402 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G3 </td>\n   <td style=\"text-align:left;\"> Style </td>\n   <td style=\"text-align:right;\"> 0.2860006 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G3 </td>\n   <td style=\"text-align:left;\"> Size </td>\n   <td style=\"text-align:right;\"> 0.4156071 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G3 </td>\n   <td style=\"text-align:left;\"> Manufacturability </td>\n   <td style=\"text-align:right;\"> 0.5839880 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G3 </td>\n   <td style=\"text-align:left;\"> Durability </td>\n   <td style=\"text-align:right;\"> 0.7145085 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G3 </td>\n   <td style=\"text-align:left;\"> Universality </td>\n   <td style=\"text-align:right;\"> 0.4899432 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nWhat we have done is:\\\n\n-   convert all the variable names into a stacked column `Parameter`\\\n-   Put all the numbers into another column `Rating`\\\n-   Repeated the `Product` column values as many times as needed to\n    cover all `Parameter`s (8 times).\\\n\nSee the gif below to get an idea of how this transformation can be\nworked reversibly. (Yeah, never mind the code also.)\n\n![Data\nPivoting](../../../../materials/images/tidyr-pivoting.gif){#fig-data-pivoting}\n\n![Data Stacking in\nRAWgraphs](../../../../materials/images/rawgraphs-pivot.png){#fig-rawgraphs-stacking}\n{{< downloadthis rawGraphs/LineChart/RIAA-RevenuesPerMusicFormat.csv dname=\"MusicRevenueData\" label=\"Download the RIAA Music Revenue data\" icon=\"database-fill-down\" type=\"info\" >}}\n:::\n\nSo how can we actually do this? Two Ways.\n\nTurns out there are some nice people at U. San Diego who have built an\nR-oriented app called [Radiant for Business\nAnalytics](https://radiant-rstats.github.io/docs/about.html) that can do\nthis pretty much click-and-point style, though it is nowhere as much fun\nas Orange. Head off there:\\\n\n<https://vnijs.shinyapps.io/radiant>\n\nWe upload our original data, pivot it, and download the pivotted data.\nNow the pivotted wide-form data should work in DataWrapper.\n\nAnd RAWgraphs also has a `stack on column` option that does pretty much\nthe same thing. See here:\n<https://www.rawgraphs.io/learning/how-to-stack-your-unstacked-data-or-meet-the-unpivoter>\n\nWhatever, peasants.\n:::\n\n## What is the Story here?\n\n-   Over the years different music formats have had their place in the\n    sun\n-   All *physical* forms are on the wane; *streaming* music is the\n    current mode of music consumption.\n\n## {{< iconify emojione-v1 statue-of-liberty >}} {{< iconify mdi airport >}} Dataset: Weather at New York City Airports\n\nTo get an idea of *seasons*, *trends* and to try our hand at time-series\nforecasting, let us look at a data set pertaining to the weather at New\nYork city airports.\n\n\n::: {.cell}\n\n:::\n\n\n::: {layout-ncol=\"2\"}\n{{< downloadthis ../../../../materials/Data/weather.csv dname=\"weather\" label=\"Download the Weather data\" icon=\"database-fill-down\" type=\"info\" >}}\n\n{{< downloadthis Orange/weather.ows dname=\"Weather Workflow\" label=\"Download the Weather Workflow\" icon=\"database-fill-down\" type=\"info\" >}}\n:::\n\n### {{< iconify file-icons influxdata >}} Examine the Data\n\nIncluded below is a PDF report from Orange, summarizing the data,\ngenerated from the `Feature Summary` widget::\n\n{{< pdf Orange/weather-report.pdf >}}\n\n![Weather Data\nTable](../../../../materials/images/Orange/weather-data-table.png){#fig-weather-data-table}\n\nWe should take the first column `time_hour` and see if we can use that\nas our time variable. All the weather related numerical data columns are\nindividual *time series* which we can plot and analyse.\n\n### {{< iconify streamline dictionary-language-book-solid >}} Data Dictionary\n\n::: callout-note\n### Quantitative Data\n\n-   `time_hour`(num): Numeric date-time variable. Does Orange spot this?\n-   `year`(num): Just 2013.\n-   `month`, `day`, `hour`(num): components of the exact time of\n    measurement of weather parameters\n-   `humid`,`temp`,`wind_dir`, `wind_speed`, `wind_gust`, `precip`,\n    `pressure`, `visib` (num): all numeric weather parameters\n:::\n\n::: callout-note\n### Qualitative Data\n\n-   `origin` (text): airport (JKF/EWR/LGR)\n:::\n\nLet us build an Orange workflow step-by-step for this dataset and its\nResearch Questions.\n\n### {{< iconify material-symbols query-stats >}} Research Questions\n\nThere are a lot of parameters to play with and investigate here.\n\n::: callout-note\n### Question\n\nQ1. What is Temperature `temp` over time at each of three airports?\n![NYC Airport Temperatures over\nTime](../../../../materials/images/Orange/weather-nyc-airports-temp.png){#fig-weather-nyc-airports-temp}\n\nThis is a Scatter Plot of course. \n\nIt seems the `Line Chart` widget in Orange cannot colour individual\ntime series by colour using another Qualitative variable.\nðŸ˜¢. Is there a better way? (You know the answer.)\n\nAlso note the utter busy-ness of this chart. This is a chart of 26K\npoints, well beyond what we can digest at one time. We need to\nsummarize/average etc.\n:::\n\n::: callout-note\n### Question\n\nQ2. In the US, there is a lot of talk of \"wind chill factor\". So, is\nthere some graphical evidence of windchill? (`temp` and `wind_speed`)?\n\n![NYC Airport Temperatures over\nTime](../../../../materials/images/Orange/temp-vs-windspeed.png){#fig-temp-vs-windspeed}\n:::\n\n::: callout-note\n### Question\n\nQ3. How do averaged plots look like, for `temp`, `humid`, and\n`dewpoint`?\n\nWe can use the [`Moving Transform`\nwidget](https://orangedatamining.com/widget-catalog/time-series/moving_transform_w/)\nin Orange to calculate monthly averages for these quantities, **after**\nconverting the data into a **time series**.\n\n![Time Averaged Weather\nPlots-3](../../../../materials/images/Orange/weather-averaged-plots.png){#fig-time-average-plot-1}\n:::\n\n### {{< iconify game-icons secret-book >}} What is the Story Here?\n\n-   There is a strong natural seasonal trend over the period of one year\n    in the temperature at all three airports\n-   If we plot `temperature` against `windspeed`, we see a fair negative\n    slope/correlation, as we would expect.\n-   Humidity is high most times, except during some very dry winter\n    months?\n\n::: callout-note\nDid you notice the serious outlier in the temp vs windspeed graph? Try\nto remove the `Select Rows` widget and see if you can spot it. Do you\nunderstand why that egregious reading had to be be filtered?\\\nSuch readings are called *outliers*.\n:::\n\n------------------------------------------------------------------------\n\n## {{< iconify ion bar-chart >}} Dataset: Born in the USA\n\n> Tourist: Any famous people born around here?\\\n> Guide: No sir, best we can do is babies.\n\nThe Time Series Line Chart widget in Orange is described here.\n<https://orangedatamining.com/widget-catalog/time-series/line_chart/>\n\nLet us take some Births related data and plot it in Orange.\n\n{{< downloadthis ../../../../materials/Data/US_births_2000_2014_SSA.csv dname=\"births\" label=\"Download the US Births data\" icon=\"database-fill-down\" type=\"info\" >}}\n\nAnd download the Line Chart workflow file for this data:\n\n{{< downloadthis Orange/time-series.ows dname=\"time-series\" label=\"Download the Time Series Line Chart Workflow\" icon=\"database-fill-down\" type=\"info\" >}}\n\nNote how we have two widgets for the Line Charts. More shortly.\n\n### {{< iconify file-icons influxdata >}} Examine the Data\n\n![Born in the\nUSA](../../../../materials/images/Orange/births-data-table.png){#fig-births-data-table}\n\n![Births Summary\nTable](../../../../materials/images/Orange/births-summary-table.png){#fig-births-summary-table}\n\n### {{< iconify streamline dictionary-language-book-solid >}} Data Dictionary\n\n::: callout-note\n### Quantitative Data\n\n-   `year`, `month`, `date_of_month`: (int) Columns giving time\n    information\n-   `day-of_week`: (int) Additional Time information\n-   `births`: (int) Total live births across the USA that day\n:::\n\n::: callout-note\n### Qualitative Data\n\nNone. Though we might covert `day_of_week` and `month` into Qual\nvariables later.\n:::\n\nEvenly spread `year`, `month`, `date_of_month` and `day_of_week`\nvariables...the bumps are curious though, no? `day_of_week` is of course\nneat. `births` are numerical data and have a good spread with a [bimodal\ndistribution](../22-Quantity/index.qmd#wait-but-why) distribution. Some\nnumbers in the mid-range hardly occur at all... So a premonition of some\ntwo-valued phenomenon here already.\n\n### {{< iconify material-symbols query-stats >}} Research Questions\n\n::: callout-note\n### Q1. What does the `births` data look like over the years?\n\n![Births over the\nYears](../../../../materials/images/Orange/births-over-the-years.png){#fig-births-over-years}\n\nHmmm...very busy graph. The overall trend is a slight bump in births\naround 2007 and then a slow reduction in births. Large variations\notherwise, which we need to see in finer detail on a magnified scale, *a\nfolded scale*, or by averaging.\n\n~~Converting `month` or `day_of_week` to categorical in the File Menu\ndoes not provide us with a way of separating the time series by month or\nweekday...sad.~~. We will be able to average over month, day_of_week to\nsee what happens.\n:::\n\n::: callout-note\n### Q2. What do births look like averaged over `month`?\n\n![](../../../../materials/images/Orange/time-series-with-averaging.png)\n\nThis is good! We have converted the dataset to a timeseries, of course,\nand then added a `moving transform` widget, that allows us to take\naverages of `births` over weeks, months, or years. Play with this\nsetting in the `moving transform` widget.\n\nWe see that averaging i.e. $aggregating$ by *Month of year* clearly\nshows September as the month for the most number of births.\n:::\n\n::: callout-note\n### Q3. What do births look like averaged over `day_of_week`?\n\nHere too with the `moving transform` widget, choosing `Day of Week` as\nthe aggregating parameter, we see a dip in births over weekends.\nTry!!\n:::\n\n::: callout-important\n### Folded Scale?\n\nLook at the figure below.\n\n![Aggregate over Week of the Year](../../../../materials/images/Orange/Aggregate-births-week-of-year.png){#fig-aggregate-over-week-of-year}\n\nIt should be apparent that the line chart shows averages based on \"Week\nof Year\". What does that mean?\n\nImagine a carpenter's folding footruler:\n![Carpenter's Footruler](https://upload.wikimedia.org/wikipedia/commons/0/03/Metre_pliant_500px.png)\n\nImagine the entire time series stretched out and then folded over itself\nat intervals of a **week**. There will of course be overlapping data\nthat represent data points for [the same week year after\nyear.]{style=\"background: yellow;\"} THAT is what goes into the\naveraging!\n\nSo we see that the weeks in September show the highest average birth\nnumbers, which seems right!\n:::\n\n## {{< iconify teenyicons candle-chart-outline >}} Other Plots\n\nImagine that we follow this overlap routine and get the data by\nsame-week-of-year, as before. We need not necessarily average that data;\nwe can simply plot each (repeated) week's worth of data as a box plot.\nThis results in an array of boxplots, one per week, and is called a\n*candlestick plot*. Clearly we can do this for months, weeks, and even\ndays of the week. Here is what it looks like; it does not seem possible\nto create these with any of the tools we are currently using.\n\n![](images/candlestick.png){#fig-candlestick}\n\n[As before](../28-Groups/index.qmd), the medians are the black lines\nacross each boxplot, which is one for each *month*. Note that since the\nmedians are towards the upper end of the boxplots, we can guess that the\nper-month distribution must be skewed to the left (lower than median\nvalues are less frequent).\n\nIf the Quantities that vary over time are not *continuous* but\n*discrete* values such as `high`, `medium`, and `low`,, a time-series\nheatmap is also a possibility.\n\n![](images/heatmap.png){#fig-time-series-heatmap}\n\nVery arbitrarily slicing the birth numbers into three bins titled\n`high`, `fine`, and `low`, we can plot a heatmap like this. Orange does\nhave a heatmap widget, however it seems suited to Machine Learning\nmethods such as Clustering. \n\n## {{< iconify bi person-up >}} Your Turn\n\n::: callout-note\n### Valentine's Day Spending by Age\nA regular line plot, not a time series. \n\n<https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2024/2024-02-13/gifts_age.csv>\n:::\n\n::: callout-note\n### William Farr's Data on Cholera in London, 1849\n\n<https://vincentarelbundock.github.io/Rdatasets/csv/HistData/Cholera.csv>\n:::\n\n::: callout-note\n### Arctic and Antarctic Sea Ice coverage over time.\n\nIs global warming affecting ice coverage at the poles?\n\n{{< downloadthis ../../../../materials/Data/Sea_ice_Index_Daily_Extent_G02135_v3.0.xlsx dname=\"SeaIce\" label=\"Download the Sea Ice Data\" icon=\"database-fill-down\" type=\"info\" >}}\n\nThis data is in wide form, and you may have to massage it into long form\nbefore pulling it into Orange!\n:::\n\n::: callout-note\n### Purple Air\n\n[In the Air Tonight](https://www.youtube.com/watch?v=YkADj0TPrJA): Head\nover to ~~Purple Rain~~ [Purple\nAir](https://map.purpleair.com/1/mAQI/a10/p604800/cC0#13.03/40.78041/-73.96397)\nand download air quality data from community based air quality sensors.\nPlot these as time series, and try getting historical data, or data on\nfestivals or important occasions in specific cities.\n:::\n\n## {{< iconify mingcute thought-line >}} Wait, But Why?\n\n-   Line Charts show up functional relationships or overall trends in\n    the data.\n-   They can be made less cluttered than the corresponding scatter\n    plots, especially with averaging.\n-   Seasonal cycles can also be spotted very easily.\n-   The X-axis need not necessarily be *time*: it can often be other\n    (independent) variables, and the Y-axis plots the target/dependent\n    variable.\n-   However, we do encounter many things that vary over time: weather,\n    wealth, No. of users or downloads of an app, hits to a webpage,\n    customers at a supermarket, or population of animals or plants in a\n    region.\n-   These are best represented by Line Charts\n-   As humans, we are also deeply interested in patterns of recurrence\n    over time, and in forecasting for the future, using tech, and using\n    say\n    [Oracles](https://www.arthur-conan-doyle.com/index.php/A_Point_of_Contact).\n-   Both these purposes are amply served by Line Charts.\n\n## {{< iconify ooui references-ltr >}} References\n\n1.  Charles Chambliss (1989). [*The Mundanity of Excellence: An\n    ethnographical report on Stratification and Olympic\n    Swimmers*.](https://academics.hamilton.edu/documents/themundanityofexcellence.pdf)\n2.  Nijs V (2023). *radiant: Business Analytics using R and Shiny*. R\n    package version 1.6.0, <https://github.com/radiant-rstats/radiant>.\n3.  Robert Hyndman, *Forecasting: Principles and Practice (Third\n    Edition)*.[available online](https://otexts.com/fpp3/)\\\n4.  [Time Series Analysis at Our Coding\n    Club](https://ourcodingclub.github.io/tutorials/time/)\\\n5.  [The Nuclear Threat---The Shadow Peace, part\n    1](http://www.fallen.io/shadow-peace/1/)\\\n6.  [11 Ways to Visualize Changes Over Time -- A\n    Guide](https://flowingdata.com/2010/01/07/11-ways-to-visualize-changes-over-time-a-guide/)\\\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../../../../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../../../../../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n<link href=\"../../../../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../../../../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}