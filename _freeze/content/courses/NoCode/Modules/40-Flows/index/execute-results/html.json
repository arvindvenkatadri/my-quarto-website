{
  "hash": "d6de439ec95150bcfef06709e9b2a484",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: <iconify-icon icon=\"maki:watermill\"></iconify-icon> Flow\nsubtitle: \"Yes...On the River, In the River, With the River, By the River...\"\ndate: 2024-April-22\ndate-modified: \"2025-07-17\"\norder: 40\nlightbox: true\nabstract: \"Changes in Information over Space and Time\"\ncategories:\n- Qual Variables and Quant Variables\neditor: \n  markdown: \n    wrap: 72\n---\n\n\n\n## What graphs will we see today?\n\n| Variable #1 | Variable #2 | Chart Names |                                           Chart Shape                                           |\n|:-----------:|:-----------:|:-----------:|:-----------:|\n|    Quant    |    None     | Sankey Plot | {{< iconify carbon sankey-diagram-alt size=4x >}} {{< iconify carbon chart-parallel size=4x >}} |\n\n::: column-page-inset-right\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-paper lightable-hover\" style='font-family: \"Arial Narrow\", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> No </th>\n   <th style=\"text-align:left;\"> Pronoun </th>\n   <th style=\"text-align:left;\"> Answer </th>\n   <th style=\"text-align:left;\"> Variable/Scale </th>\n   <th style=\"text-align:left;\"> Example </th>\n   <th style=\"text-align:left;\"> What Operations? </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:left;\"> How Many / Much / Heavy? Few? Seldom? Often? When? </td>\n   <td style=\"text-align:left;\"> Quantities with Scale.\nDifferences are meaningful, but not products or ratios </td>\n   <td style=\"text-align:left;\"> Quantitative/Interval </td>\n   <td style=\"text-align:left;\"> pH,SAT score(200-800),Credit score(300-850),SAT score(200-800),Year of Starting College </td>\n   <td style=\"text-align:left;\"> Mean,Standard Deviation </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:left;\"> How, What Kind, What Sort </td>\n   <td style=\"text-align:left;\"> A Manner / Method, Type or Attribute from a list, with list items in some \" order\" ( e.g. good, better, improved, best..) </td>\n   <td style=\"text-align:left;\"> Qualitative/Ordinal </td>\n   <td style=\"text-align:left;\"> Socioeconomic status (Low income, Middle income, High income),Education level (HighSchool, BS, MS, PhD),Satisfaction rating(Very much Dislike, Dislike, Neutral, Like, Very Much Like) </td>\n   <td style=\"text-align:left;\"> Median,Percentile </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n## {{< iconify icons8 idea >}} Inspiration\n\n\n\n## {{< iconify mdi food-processor-outline >}} How do these Chart(s) Work?\n\nSometimes Qual data can itself vary over, or depend upon, over a bunch\nof independent Qual data *categories*. For instance we can contemplate\nenrollment at a University, and show how students move from course to\ncourse in a University. Or how customers drift from one category of\nproducts or brands to another....or the movement of cricket players from\none IPL Team to another !!\n\nAt such times, the [Mosaic Chart](../35-Proportions/index.qmd#plotting-nested-proportions) becomes a limited and unwieldy, and we need to turn to a new visualization. \n\nAs can be surmised, the independent *categories* can be interpreted both\nas **time** ( e.g semesters / cycles / years) and **space** (teams /\ncourses / departments). And we can chart another Quant or Qual variable\nthat moves across levels of the first chosen Qual variable.\n\n![](../../../../materials/images/sankey.png){fig-align=\"center\"\nwidth=\"800\"}\n\n-   The Qualitative variables being connected are mapped to\n    `stages/axes`\n-   Each *level* within a Qual variable is mapped to\n    `nodes / strata / lodes`;\n-   And the connections between the `strata` of the `axes` are called\n    `flows / links / alluvia`.\\\n\nSuch diagrams are best used when you want to show a many-to-many mapping\nbetween two domains or multiple paths through a set of stages E.g\nStudents going through multiple courses during a semester of study.\n\nHere is an example of a Sankey Diagram for the `Titanic` dataset:\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Titanic Sankey Plot](index_files/figure-html/fig-titanic-sankey-plot-1.png){#fig-titanic-sankey-plot width=2100}\n:::\n:::\n\n\nIt is seen from @fig-titanic-sankey-plot that the x-axis has Qual\nvariables `stages` shown as \"pillars\" and these are split into `nodes`\nbased on the levels for each Qual variable `stage` respectively. `Flows`\nwith variable thickness connect one `node` at one `stage` to another\n`node` and another `stage`.\n\n::: callout-note\n### Sankey, Parallel sets, and Alluvial Charts\n\nHere is what [Thomas Lin\nPedersen](https://ggforce.data-imaginist.com/reference/geom_parallel_sets.html)\nsays:\n\nA **parallel sets diagram** is a type of visualisation showing the\ninteraction between multiple categorical variables.\n\nIf the variables have an **intrinsic order** the representation can be\nthought of as a **Sankey Diagram**.\n\nIf each variable is a point in time it will resemble an **Alluvial\ndiagram**.\n:::\n\n## {{< iconify carbon box-plot >}} {{< iconify carbon chart-violin-plot >}} Creating Sankey Plots\n\n::: {.panel-tabset .nav-pills style=\"background: whitesmoke;\"}\n\n### Using Orange\n\nIt does not seem possible to create an Alluvial Diagram in Orange.\nðŸ˜¢\n\n### Using RAWgraphs\n\n{{< video https://youtu.be/6BYac2Pmnno >}}\n\n{{< downloadthis AlluvialDiagram/TutorialAlluvialDiagram.rawgraphs dname=\"TutorialAlluvialDiagram\" label=\"Download the RAWgraphs Alluvial Tutorial File\" icon=\"database-fill-down\" type=\"info\" >}}\n\nDownload this file and upload to <https://app.rawgraphs.io/>.\n\nLet us however examine this data in Orange:\n\n{{< downloadthis AlluvialDiagram/2020HateCrimesInNY.csv dname=\"HateCrimesInNY\" label=\"Download the Hate Crimes dataset\" icon=\"database-fill-down\" type=\"info\" >}}\n\n![Hate Crimes in NY\n2020](../../../../materials/images/Orange/hate-crimes-data-table.png){#fig-hate-crime-data-table}\n\nFrom the @fig-hate-crime-data-table, We see that the data is all\nQualitative, except for `Age`. The `Precinct`, while apparently an\ninteger, is really a Qual variable! Why?\n\nAnd here is the Sankey Diagram:\n\n![Hate Crime Sankey\nDiagram](AlluvialDiagram/TutorialAlluvialDiagram.png){#fig-hate-crime-sankey}\n\nIn the @fig-hate-crime-sankey, we have three Qual variables along the\nx-axis: `Gender`, `Race` and `Bias-Motivation`. The chart *counts* the\ncrime episodes at each `stage/node` and portrays them as flows with\nvarying thickness leading to the next `stage/node`.\n\nWhat trends do you detect from this diagram?\n\n### Using DataWrapper\n\nIt does not seem possible to create an Alluvial Diagram in DataWrapper.\n\n:::\n\n## {{< iconify uiw pay >}} Dataset: Course Allocations\n\nLet us try one more dataset:\n\n{{< downloadthis ../../../../materials/Data/FSPAllocationCleanDataFile.csv dname=\"courses\" label=\"Download the FSP Course Allocation data\" icon=\"database-fill-down\" type=\"info\" >}}\n\n### {{< iconify file-icons influxdata >}} Examine the Data\n\nLet us still import into Orange and see the data anyway!\n\n![Course Allocation\nData](../../../../materials/images/Orange/course-allocation-data-table.png){#fig-course-allocation-data-table}\n\nFrom @fig-course-allocation-data-table, we see that we have 300 students\nand their course allocations over one Foundation year at SMI. (The data\nis anonymized but accurate; no staff or students were harmed in the\ncollection of this data, which is a pity of course)!\n\n### {{< iconify streamline dictionary-language-book-solid >}} Data Dictionary\n\n::: callout-note\n### Quantitative Data\n-   None!!\n:::\n\n::: callout-note\n### Qualitative Data\n\n-   `Major`(chr): Student Major\n-   All other columns: Courses they were allocated to during the course\n    of the year.\n-   MM = Mark Making; DM = Digital Making; FM = Form Making;\\\n-   DTT = Digital Thinking Tools; VTT = Visual Thinking Tools;\\\n-   O&C = Order and Chaos; P&I = Play and Invent; S&P = Space and Place;\n    C&P = Communities and Practices; F&S = Form and Structure; B&C =\n    Body and Context; ~~L&L = Layers and Lenses~~; ~~E&C = Everything's Connected~~; ~~P&P = Patterns and Paradigms~~; ~~F&F = Faculty and Fools~~ (Oh all right, all right.)\n:::\n\n### {{< iconify material-symbols query-stats >}} Research Questions\n\nLet's try a few questions and see if they are answerable with Sankey/Alluvial Plots.\n\n::: callout-note\n## Question\n\nQ1. Do all DMA/Film/CAP students take at least one B&C course?\n\n::: {#fig-courses-alluvials layout-ncol=\"2\"}\n\n:::\n\n:::\n\n::: callout-note\n## Question\n\nQ2. Do all IADP, HCD, and PSD students take one P&I course?\n:::\n\n### {{< iconify game-icons secret-book >}} What is the Story Here?\nWrite in!!\n\n\n## {{< iconify bi person-up >}} Your Turn\n\n1.  Within the `ggalluvial` package from R, are two datasets, `majors` and `vaccinations`. Plot alluvial charts for both of these, and write their stories. \n    \n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<button class=\"btn btn-default\" onclick=\"&#10;    async function downloadFile(event) {&#10;      event.preventDefault();&#10;      try {&#10;        const response = await fetch(&#39;data:text/csv;base64,c3R1ZGVudDtzZW1lc3RlcjtjdXJyaWN1bHVtCjE7Q1VSUjE7UGFpbnRpbmcKMjtDVVJSMTtQYWludGluZwo2O0NVUlIxO1NjdWxwdXJlCjg7Q1VSUjE7UGFpbnRpbmcKOTtDVVJSMTtTY3VscHVyZQoxMDtDVVJSMTtQYWludGluZwoxMTtDVVJSMTtEaWdpdGFsIEFydAoxMjtDVVJSMTtTY3VscHVyZQoxNDtDVVJSMTtDZXJhbWljCjE1O0NVUlIxO1Bob3RvZ3JhcGh5CjE7Q1VSUjM7UGFpbnRpbmcKMjtDVVJSMztQYWludGluZwo2O0NVUlIzO1NjdWxwdXJlCjg7Q1VSUjM7UGFpbnRpbmcKOTtDVVJSMztBcnQgSGlzdG9yeQoxMDtDVVJSMztQYWludGluZwoxMTtDVVJSMztEaWdpdGFsIEFydAoxMjtDVVJSMztTY3VscHVyZQoxNDtDVVJSMztDZXJhbWljCjE1O0NVUlIzO1Bob3RvZ3JhcGh5CjE7Q1VSUjU7UGFpbnRpbmcKMjtDVVJSNTtQYWludGluZwo2O0NVUlI1O1BhaW50aW5nCjg7Q1VSUjU7UGFpbnRpbmcKOTtDVVJSNTtBcnQgSGlzdG9yeQoxMDtDVVJSNTtQYWludGluZwoxMTtDVVJSNTtEaWdpdGFsIEFydAoxMjtDVVJSNTtTY3VscHVyZQoxNDtDVVJSNTtQYWludGluZwoxNTtDVVJSNTtQaG90b2dyYXBoeQoxO0NVUlI3O1BhaW50aW5nCjI7Q1VSUjc7UGFpbnRpbmcKNjtDVVJSNztQYWludGluZwo4O0NVUlI3O1BhaW50aW5nCjk7Q1VSUjc7UGFpbnRpbmcKMTA7Q1VSUjc7UGFpbnRpbmcKMTE7Q1VSUjc7RGlnaXRhbCBBcnQKMTI7Q1VSUjc7U2N1bHB1cmUKMTQ7Q1VSUjc7UGFpbnRpbmcKMTU7Q1VSUjc7UGFpbnRpbmcKMTtDVVJSOTtQYWludGluZwoyO0NVUlI5O1BhaW50aW5nCjY7Q1VSUjk7UGFpbnRpbmcKODtDVVJSOTtOQQo5O0NVUlI5O1BhaW50aW5nCjEwO0NVUlI5O1BhaW50aW5nCjExO0NVUlI5O0RpZ2l0YWwgQXJ0CjEyO0NVUlI5O1BhaW50aW5nCjE0O0NVUlI5O1BhaW50aW5nCjE1O0NVUlI5O1BhaW50aW5nCjE7Q1VSUjExO1BhaW50aW5nCjI7Q1VSUjExO1BhaW50aW5nCjY7Q1VSUjExO1BhaW50aW5nCjg7Q1VSUjExO1BhaW50aW5nCjk7Q1VSUjExO1BhaW50aW5nCjEwO0NVUlIxMTtQYWludGluZwoxMTtDVVJSMTE7UGFpbnRpbmcKMTI7Q1VSUjExO1BhaW50aW5nCjE0O0NVUlIxMTtQYWludGluZwoxNTtDVVJSMTE7UGFpbnRpbmcKMTtDVVJSMTM7UGFpbnRpbmcKMjtDVVJSMTM7TkEKNjtDVVJSMTM7UGFpbnRpbmcKODtDVVJSMTM7UGFpbnRpbmcKOTtDVVJSMTM7UGFpbnRpbmcKMTA7Q1VSUjEzO05BCjExO0NVUlIxMztQYWludGluZwoxMjtDVVJSMTM7UGFpbnRpbmcKMTQ7Q1VSUjEzO1BhaW50aW5nCjE1O0NVUlIxMztQYWludGluZwoxO0NVUlIxNTtQYWludGluZwoyO0NVUlIxNTtOQQo2O0NVUlIxNTtQYWludGluZwo4O0NVUlIxNTtQYWludGluZwo5O0NVUlIxNTtQYWludGluZwoxMDtDVVJSMTU7TkEKMTE7Q1VSUjE1O1BhaW50aW5nCjEyO0NVUlIxNTtQYWludGluZwoxNDtDVVJSMTU7UGFpbnRpbmcKMTU7Q1VSUjE1O05BCg==&#39;);&#10;        if (!response.ok) throw new Error(&#39;Network response failed&#39;);&#10;        const blob = await response.blob();&#10;        const blobUrl = window.URL.createObjectURL(blob);&#10;        const a = document.createElement(&#39;a&#39;);&#10;        a.href = blobUrl;&#10;        a.download = &#39;majors.csv&#39;;&#10;        a.style.display = &#39;none&#39;;&#10;        document.body.appendChild(a);&#10;        a.dispatchEvent(new MouseEvent(&#39;click&#39;));&#10;        document.body.removeChild(a);&#10;        setTimeout(() =&gt; {&#10;          window.URL.revokeObjectURL(blobUrl);&#10;        }, 100);&#10;        return false;&#10;      } catch (error) {&#10;        console.error(&#39;Download failed:&#39;, error);&#10;        alert(&#39;Download failed. Please try again.&#39;);&#10;      }&#10;    }&#10;    downloadFile(event);&#10;  \"><i class=\"fa fa-save\"></i> Majors data</button>\n```\n\n:::\n:::\n\n\\\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<button class=\"btn btn-default\" onclick=\"&#10;    async function downloadFile(event) {&#10;      event.preventDefault();&#10;      try {&#10;        const response = await fetch(&#39;data:text/csv;base64,c3VydmV5O2ZyZXE7c3ViamVjdDtyZXNwb25zZTtzdGFydF9kYXRlO2VuZF9kYXRlCm1zMTUzX05TQTs0ODsxO0Fsd2F5czsyMDEwLTA5LTIyOzIwMTAtMTAtMjUKbXMxNTNfTlNBOzk7MjtBbHdheXM7MjAxMC0wOS0yMjsyMDEwLTEwLTI1Cm1zMTUzX05TQTs2NjszO0Fsd2F5czsyMDEwLTA5LTIyOzIwMTAtMTAtMjUKbXMxNTNfTlNBOzE7NDtBbHdheXM7MjAxMC0wOS0yMjsyMDEwLTEwLTI1Cm1zMTUzX05TQTsxMTs1O0Fsd2F5czsyMDEwLTA5LTIyOzIwMTAtMTAtMjUKbXMxNTNfTlNBOzE7NjtBbHdheXM7MjAxMC0wOS0yMjsyMDEwLTEwLTI1Cm1zMTUzX05TQTs1Ozc7QWx3YXlzOzIwMTAtMDktMjI7MjAxMC0xMC0yNQptczE1M19OU0E7NDs4O0Fsd2F5czsyMDEwLTA5LTIyOzIwMTAtMTAtMjUKbXMxNTNfTlNBOzI0Ozk7TWlzc2luZzsyMDEwLTA5LTIyOzIwMTAtMTAtMjUKbXMxNTNfTlNBOzQ7MTA7TWlzc2luZzsyMDEwLTA5LTIyOzIwMTAtMTAtMjUKbXMxNTNfTlNBOzI5OzExO01pc3Npbmc7MjAxMC0wOS0yMjsyMDEwLTEwLTI1Cm1zMTUzX05TQTsxOzEyO01pc3Npbmc7MjAxMC0wOS0yMjsyMDEwLTEwLTI1Cm1zMTUzX05TQTsxOzEzO01pc3Npbmc7MjAxMC0wOS0yMjsyMDEwLTEwLTI1Cm1zMTUzX05TQTs5OzE0O01pc3Npbmc7MjAxMC0wOS0yMjsyMDEwLTEwLTI1Cm1zMTUzX05TQTsxMDsxNTtNaXNzaW5nOzIwMTAtMDktMjI7MjAxMC0xMC0yNQptczE1M19OU0E7MTQ7MTY7TWlzc2luZzsyMDEwLTA5LTIyOzIwMTAtMTAtMjUKbXMxNTNfTlNBOzM7MTc7TmV2ZXI7MjAxMC0wOS0yMjsyMDEwLTEwLTI1Cm1zMTUzX05TQTs3OzE4O05ldmVyOzIwMTAtMDktMjI7MjAxMC0xMC0yNQptczE1M19OU0E7NDI7MTk7TmV2ZXI7MjAxMC0wOS0yMjsyMDEwLTEwLTI1Cm1zMTUzX05TQTsyMDsyMDtOZXZlcjsyMDEwLTA5LTIyOzIwMTAtMTAtMjUKbXMxNTNfTlNBOzI7MjE7TmV2ZXI7MjAxMC0wOS0yMjsyMDEwLTEwLTI1Cm1zMTUzX05TQTszNjsyMjtOZXZlcjsyMDEwLTA5LTIyOzIwMTAtMTAtMjUKbXMxNTNfTlNBOzc7MjM7TmV2ZXI7MjAxMC0wOS0yMjsyMDEwLTEwLTI1Cm1zMTUzX05TQTsyOzI0O05ldmVyOzIwMTAtMDktMjI7MjAxMC0xMC0yNQptczE1M19OU0E7NDsyNTtOZXZlcjsyMDEwLTA5LTIyOzIwMTAtMTAtMjUKbXMxNTNfTlNBOzk7MjY7TmV2ZXI7MjAxMC0wOS0yMjsyMDEwLTEwLTI1Cm1zMTUzX05TQTs0ODsyNztTb21ldGltZXM7MjAxMC0wOS0yMjsyMDEwLTEwLTI1Cm1zMTUzX05TQTsxMTsyODtTb21ldGltZXM7MjAxMC0wOS0yMjsyMDEwLTEwLTI1Cm1zMTUzX05TQTs5OTsyOTtTb21ldGltZXM7MjAxMC0wOS0yMjsyMDEwLTEwLTI1Cm1zMTUzX05TQTszOzMwO1NvbWV0aW1lczsyMDEwLTA5LTIyOzIwMTAtMTAtMjUKbXMxNTNfTlNBOzQxOzMxO1NvbWV0aW1lczsyMDEwLTA5LTIyOzIwMTAtMTAtMjUKbXMxNTNfTlNBOzE2ODszMjtTb21ldGltZXM7MjAxMC0wOS0yMjsyMDEwLTEwLTI1Cm1zMTUzX05TQTsyOzMzO1NvbWV0aW1lczsyMDEwLTA5LTIyOzIwMTAtMTAtMjUKbXMxNTNfTlNBOzIzOzM0O1NvbWV0aW1lczsyMDEwLTA5LTIyOzIwMTAtMTAtMjUKbXMxNTNfTlNBOzIyOzM1O1NvbWV0aW1lczsyMDEwLTA5LTIyOzIwMTAtMTAtMjUKbXMxNTNfTlNBOzM4OzM2O1NvbWV0aW1lczsyMDEwLTA5LTIyOzIwMTAtMTAtMjUKbXMxNTNfTlNBOzE7Mzc7U29tZXRpbWVzOzIwMTAtMDktMjI7MjAxMC0xMC0yNQptczE1M19OU0E7MTU7Mzg7U29tZXRpbWVzOzIwMTAtMDktMjI7MjAxMC0xMC0yNQptczE1M19OU0E7MTEzOzM5O1NvbWV0aW1lczsyMDEwLTA5LTIyOzIwMTAtMTAtMjUKbXM0MzJfTlNBOzQ4OzE7QWx3YXlzOzIwMTUtMDYtMDQ7MjAxNS0xMC0wNQptczQzMl9OU0E7OTsyO0Fsd2F5czsyMDE1LTA2LTA0OzIwMTUtMTAtMDUKbXM0MzJfTlNBOzY2OzM7TWlzc2luZzsyMDE1LTA2LTA0OzIwMTUtMTAtMDUKbXM0MzJfTlNBOzE7NDtNaXNzaW5nOzIwMTUtMDYtMDQ7MjAxNS0xMC0wNQptczQzMl9OU0E7MTE7NTtNaXNzaW5nOzIwMTUtMDYtMDQ7MjAxNS0xMC0wNQptczQzMl9OU0E7MTs2O05ldmVyOzIwMTUtMDYtMDQ7MjAxNS0xMC0wNQptczQzMl9OU0E7NTs3O1NvbWV0aW1lczsyMDE1LTA2LTA0OzIwMTUtMTAtMDUKbXM0MzJfTlNBOzQ7ODtTb21ldGltZXM7MjAxNS0wNi0wNDsyMDE1LTEwLTA1Cm1zNDMyX05TQTsyNDs5O0Fsd2F5czsyMDE1LTA2LTA0OzIwMTUtMTAtMDUKbXM0MzJfTlNBOzQ7MTA7QWx3YXlzOzIwMTUtMDYtMDQ7MjAxNS0xMC0wNQptczQzMl9OU0E7Mjk7MTE7TWlzc2luZzsyMDE1LTA2LTA0OzIwMTUtMTAtMDUKbXM0MzJfTlNBOzE7MTI7TWlzc2luZzsyMDE1LTA2LTA0OzIwMTUtMTAtMDUKbXM0MzJfTlNBOzE7MTM7TWlzc2luZzsyMDE1LTA2LTA0OzIwMTUtMTAtMDUKbXM0MzJfTlNBOzk7MTQ7TWlzc2luZzsyMDE1LTA2LTA0OzIwMTUtMTAtMDUKbXM0MzJfTlNBOzEwOzE1O1NvbWV0aW1lczsyMDE1LTA2LTA0OzIwMTUtMTAtMDUKbXM0MzJfTlNBOzE0OzE2O1NvbWV0aW1lczsyMDE1LTA2LTA0OzIwMTUtMTAtMDUKbXM0MzJfTlNBOzM7MTc7QWx3YXlzOzIwMTUtMDYtMDQ7MjAxNS0xMC0wNQptczQzMl9OU0E7NzsxODtNaXNzaW5nOzIwMTUtMDYtMDQ7MjAxNS0xMC0wNQptczQzMl9OU0E7NDI7MTk7TWlzc2luZzsyMDE1LTA2LTA0OzIwMTUtMTAtMDUKbXM0MzJfTlNBOzIwOzIwO01pc3Npbmc7MjAxNS0wNi0wNDsyMDE1LTEwLTA1Cm1zNDMyX05TQTsyOzIxO05ldmVyOzIwMTUtMDYtMDQ7MjAxNS0xMC0wNQptczQzMl9OU0E7MzY7MjI7TmV2ZXI7MjAxNS0wNi0wNDsyMDE1LTEwLTA1Cm1zNDMyX05TQTs3OzIzO05ldmVyOzIwMTUtMDYtMDQ7MjAxNS0xMC0wNQptczQzMl9OU0E7MjsyNDtTb21ldGltZXM7MjAxNS0wNi0wNDsyMDE1LTEwLTA1Cm1zNDMyX05TQTs0OzI1O1NvbWV0aW1lczsyMDE1LTA2LTA0OzIwMTUtMTAtMDUKbXM0MzJfTlNBOzk7MjY7U29tZXRpbWVzOzIwMTUtMDYtMDQ7MjAxNS0xMC0wNQptczQzMl9OU0E7NDg7Mjc7QWx3YXlzOzIwMTUtMDYtMDQ7MjAxNS0xMC0wNQptczQzMl9OU0E7MTE7Mjg7QWx3YXlzOzIwMTUtMDYtMDQ7MjAxNS0xMC0wNQptczQzMl9OU0E7OTk7Mjk7TWlzc2luZzsyMDE1LTA2LTA0OzIwMTUtMTAtMDUKbXM0MzJfTlNBOzM7MzA7TWlzc2luZzsyMDE1LTA2LTA0OzIwMTUtMTAtMDUKbXM0MzJfTlNBOzQxOzMxO01pc3Npbmc7MjAxNS0wNi0wNDsyMDE1LTEwLTA1Cm1zNDMyX05TQTsxNjg7MzI7TWlzc2luZzsyMDE1LTA2LTA0OzIwMTUtMTAtMDUKbXM0MzJfTlNBOzI7MzM7TmV2ZXI7MjAxNS0wNi0wNDsyMDE1LTEwLTA1Cm1zNDMyX05TQTsyMzszNDtOZXZlcjsyMDE1LTA2LTA0OzIwMTUtMTAtMDUKbXM0MzJfTlNBOzIyOzM1O05ldmVyOzIwMTUtMDYtMDQ7MjAxNS0xMC0wNQptczQzMl9OU0E7Mzg7MzY7U29tZXRpbWVzOzIwMTUtMDYtMDQ7MjAxNS0xMC0wNQptczQzMl9OU0E7MTszNztTb21ldGltZXM7MjAxNS0wNi0wNDsyMDE1LTEwLTA1Cm1zNDMyX05TQTsxNTszODtTb21ldGltZXM7MjAxNS0wNi0wNDsyMDE1LTEwLTA1Cm1zNDMyX05TQTsxMTM7Mzk7U29tZXRpbWVzOzIwMTUtMDYtMDQ7MjAxNS0xMC0wNQptczQ2MF9OU0E7NDg7MTtBbHdheXM7MjAxNi0wOS0yNzsyMDE2LTEwLTI1Cm1zNDYwX05TQTs5OzI7U29tZXRpbWVzOzIwMTYtMDktMjc7MjAxNi0xMC0yNQptczQ2MF9OU0E7NjY7MztBbHdheXM7MjAxNi0wOS0yNzsyMDE2LTEwLTI1Cm1zNDYwX05TQTsxOzQ7TmV2ZXI7MjAxNi0wOS0yNzsyMDE2LTEwLTI1Cm1zNDYwX05TQTsxMTs1O1NvbWV0aW1lczsyMDE2LTA5LTI3OzIwMTYtMTAtMjUKbXM0NjBfTlNBOzE7NjtBbHdheXM7MjAxNi0wOS0yNzsyMDE2LTEwLTI1Cm1zNDYwX05TQTs1Ozc7QWx3YXlzOzIwMTYtMDktMjc7MjAxNi0xMC0yNQptczQ2MF9OU0E7NDs4O1NvbWV0aW1lczsyMDE2LTA5LTI3OzIwMTYtMTAtMjUKbXM0NjBfTlNBOzI0Ozk7QWx3YXlzOzIwMTYtMDktMjc7MjAxNi0xMC0yNQptczQ2MF9OU0E7NDsxMDtTb21ldGltZXM7MjAxNi0wOS0yNzsyMDE2LTEwLTI1Cm1zNDYwX05TQTsyOTsxMTtBbHdheXM7MjAxNi0wOS0yNzsyMDE2LTEwLTI1Cm1zNDYwX05TQTsxOzEyO01pc3Npbmc7MjAxNi0wOS0yNzsyMDE2LTEwLTI1Cm1zNDYwX05TQTsxOzEzO05ldmVyOzIwMTYtMDktMjc7MjAxNi0xMC0yNQptczQ2MF9OU0E7OTsxNDtTb21ldGltZXM7MjAxNi0wOS0yNzsyMDE2LTEwLTI1Cm1zNDYwX05TQTsxMDsxNTtBbHdheXM7MjAxNi0wOS0yNzsyMDE2LTEwLTI1Cm1zNDYwX05TQTsxNDsxNjtTb21ldGltZXM7MjAxNi0wOS0yNzsyMDE2LTEwLTI1Cm1zNDYwX05TQTszOzE3O0Fsd2F5czsyMDE2LTA5LTI3OzIwMTYtMTAtMjUKbXM0NjBfTlNBOzc7MTg7QWx3YXlzOzIwMTYtMDktMjc7MjAxNi0xMC0yNQptczQ2MF9OU0E7NDI7MTk7TmV2ZXI7MjAxNi0wOS0yNzsyMDE2LTEwLTI1Cm1zNDYwX05TQTsyMDsyMDtTb21ldGltZXM7MjAxNi0wOS0yNzsyMDE2LTEwLTI1Cm1zNDYwX05TQTsyOzIxO01pc3Npbmc7MjAxNi0wOS0yNzsyMDE2LTEwLTI1Cm1zNDYwX05TQTszNjsyMjtOZXZlcjsyMDE2LTA5LTI3OzIwMTYtMTAtMjUKbXM0NjBfTlNBOzc7MjM7U29tZXRpbWVzOzIwMTYtMDktMjc7MjAxNi0xMC0yNQptczQ2MF9OU0E7MjsyNDtBbHdheXM7MjAxNi0wOS0yNzsyMDE2LTEwLTI1Cm1zNDYwX05TQTs0OzI1O05ldmVyOzIwMTYtMDktMjc7MjAxNi0xMC0yNQptczQ2MF9OU0E7OTsyNjtTb21ldGltZXM7MjAxNi0wOS0yNzsyMDE2LTEwLTI1Cm1zNDYwX05TQTs0ODsyNztBbHdheXM7MjAxNi0wOS0yNzsyMDE2LTEwLTI1Cm1zNDYwX05TQTsxMTsyODtTb21ldGltZXM7MjAxNi0wOS0yNzsyMDE2LTEwLTI1Cm1zNDYwX05TQTs5OTsyOTtBbHdheXM7MjAxNi0wOS0yNzsyMDE2LTEwLTI1Cm1zNDYwX05TQTszOzMwO01pc3Npbmc7MjAxNi0wOS0yNzsyMDE2LTEwLTI1Cm1zNDYwX05TQTs0MTszMTtOZXZlcjsyMDE2LTA5LTI3OzIwMTYtMTAtMjUKbXM0NjBfTlNBOzE2ODszMjtTb21ldGltZXM7MjAxNi0wOS0yNzsyMDE2LTEwLTI1Cm1zNDYwX05TQTsyOzMzO0Fsd2F5czsyMDE2LTA5LTI3OzIwMTYtMTAtMjUKbXM0NjBfTlNBOzIzOzM0O05ldmVyOzIwMTYtMDktMjc7MjAxNi0xMC0yNQptczQ2MF9OU0E7MjI7MzU7U29tZXRpbWVzOzIwMTYtMDktMjc7MjAxNi0xMC0yNQptczQ2MF9OU0E7Mzg7MzY7QWx3YXlzOzIwMTYtMDktMjc7MjAxNi0xMC0yNQptczQ2MF9OU0E7MTszNztNaXNzaW5nOzIwMTYtMDktMjc7MjAxNi0xMC0yNQptczQ2MF9OU0E7MTU7Mzg7TmV2ZXI7MjAxNi0wOS0yNzsyMDE2LTEwLTI1Cm1zNDYwX05TQTsxMTM7Mzk7U29tZXRpbWVzOzIwMTYtMDktMjc7MjAxNi0xMC0yNQo=&#39;);&#10;        if (!response.ok) throw new Error(&#39;Network response failed&#39;);&#10;        const blob = await response.blob();&#10;        const blobUrl = window.URL.createObjectURL(blob);&#10;        const a = document.createElement(&#39;a&#39;);&#10;        a.href = blobUrl;&#10;        a.download = &#39;vaccinations.csv&#39;;&#10;        a.style.display = &#39;none&#39;;&#10;        document.body.appendChild(a);&#10;        a.dispatchEvent(new MouseEvent(&#39;click&#39;));&#10;        document.body.removeChild(a);&#10;        setTimeout(() =&gt; {&#10;          window.URL.revokeObjectURL(blobUrl);&#10;        }, 100);&#10;        return false;&#10;      } catch (error) {&#10;        console.error(&#39;Download failed:&#39;, error);&#10;        alert(&#39;Download failed. Please try again.&#39;);&#10;      }&#10;    }&#10;    downloadFile(event);&#10;  \"><i class=\"fa fa-save\"></i> Vaccinations data</button>\n```\n\n:::\n:::\n\n\\\n\n2.  Go to the [American Life Panel\n    Website](https://alpdata.rand.org/index.php?page=data) where you\n    will find many public datasets. Try to take one and make charts from\n    it that we have learned in this Module.\n\n3. Try this from Vincent Arel-Bundock's website: [Cybersecurity breaches reported to the US Department of Health and Human Services](https://vincentarelbundock.github.io/Rdatasets/doc/Ecdat/HHSCyberSecurityBreaches.html). The dataset is downloadable here [CSV](https://vincentarelbundock.github.io/Rdatasets/csv/Ecdat/HHSCyberSecurityBreaches.csv). NOTE: data may require some cleaning beforehand in Excel!\n\n## {{< iconify mingcute thought-line >}} Wait, But Why?\n\n- Mosaic Charts gave us a view of **counts** of data across level-combinations of Qual variables.\n- Sankey/Alluvial Charts give us a sense of *flow*: how did different observations flow from one Qual variable to another? So in a sense, a Sankey/Alluvial is a concatenation of several mosaics: at each axis pillar in a Sankey/Alluvial, we can flatten that out into a Mosaic. \n- This is very valuable if these Qual variables and their levels have a natural *sequence*. E.g. Choices made in purchases, Attitudes over time and situation, Affiliations and Friendships over time etc.\n- The sequence may even be conceptualized as a *consequence*, provided you have adequate insight into the situations involved. \n- You get a sense of the sub-populations in each *combo* of Qual variables and can decide what to do about both plenitude and rarity!\n\n## {{< iconify ooui references-ltr >}} Readings\n\n1. A good pictorial introduction to different parts of a Sankey Chart. <https://github.com/davidsjoberg/ggsankey>\n\n1. Minard's famous Alluvial Plot of Napoleon's Invasion of Russia. <https://www.andrewheiss.com/blog/2017/08/10/exploring-minards-1812-plot-with-ggplot2/?utm_content=buffer70e4b&utm_medium=social&utm_source=twitter.com&utm_campaign=buffer>\n\n1. Minard Revisited. <https://www.masswerk.at/nowgobang/2020/minard-revisited>\n\n1. 100+ years of the Titanic data. <https://www.datavis.ca/papers/titanic/>\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../../../../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../../../../../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n<script src=\"../../../../../site_libs/font-awesome-6.7.2/js/script.js\"></script>\n<link href=\"../../../../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../../../../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}